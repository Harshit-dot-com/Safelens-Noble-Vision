<%- include('layouts/header.ejs') %>
<script> 
    var username = null;
    username = "<%= user.name %>".toLowerCase();
    let userImage = "";
    userImage = "<%= user.image %>";
    var port1 = "<%= port %>";
    console.log(port1);
</script>

<nav class="navbar">
    <div class="navbar-left">
        <a class="navbar-brand" href="#">Safe Lens</a>
    </div>
    <div class="navbar-right">
        <button class="btn-navbar" id="profile-btn">Profile</button>
        <button class="btn-navbar">Call</button>
        <a class="btn-navbar" id="logout-btn" href="/logout">Logout</a>
    </div>
</nav>

<div class="main-wrap">
    <div class="call-wrap card" style="z-index: 99">
        <video id="local-video" autoplay></video>
        <div class="row remote-video-wrap" style="position: relative;">
            <div class="call-hang-status" style="position: absolute; z-index:999"></div>
            <video id="remote-video" autoplay></video>
        </div>
        <div class="row">
            <div class="col m12">
                <input type="text" name="" id="username-input" placeholder="Username">
                <button id="call-btn" class="btn waves-effect">Start Call</button>
            </div>
        </div>
    </div>
</div>

<div id="protocol-violation-message" style="display:none; color: red; position: fixed; right: 20px; bottom: 20px; background-color: white; border: 1px solid red; padding: 10px;">
</div>
</div>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>
<script src="/js/client.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="/js/materialize.min.js"></script>
</body>

</html>
